# –ü—Ä–∏–º–µ—Ä—ã RBAC –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –§–°–¢–≠–ö (–£–î.1, –ò–ê)

# –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –£–î.1: –î–∏—Å–∫—Ä–µ—Ü–∏–æ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
# –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ò–ê.1: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—É–±—ä–µ–∫—Ç–æ–≤ –¥–æ—Å—Ç—É–ø–∞

---
# –ü–†–ò–ú–ï–† 1: ServiceAccount –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ò–ê.1)
# –ö–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —Å–≤–æ–π ServiceAccount
apiVersion: v1
kind: ServiceAccount
metadata:
  name: web-app-sa
  namespace: production
  annotations:
    security.fstec/requirement: "–ò–ê.1"
    security.fstec/owner: "Web Team"
    security.fstec/purpose: "ServiceAccount for web application"
automountServiceAccountToken: false  # –ù–µ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

---
# –ü–†–ò–ú–ï–† 2: –†–æ–ª—å —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ (Least Privilege)
# –†–æ–ª—å –¥–ª—è —á—Ç–µ–Ω–∏—è –ø–æ–¥–æ–≤ –∏ –ª–æ–≥–æ–≤
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: pod-reader
  namespace: production
  annotations:
    security.fstec/requirement: "–£–î.1"
    security.fstec/principle: "Least Privilege"
rules:
# –ß—Ç–µ–Ω–∏–µ –ø–æ–¥–æ–≤
- apiGroups: [""]
  resources: ["pods"]
  verbs: ["get", "list", "watch"]

# –ß—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –ø–æ–¥–æ–≤
- apiGroups: [""]
  resources: ["pods/log"]
  verbs: ["get", "list"]

# –ß—Ç–µ–Ω–∏–µ –ø–æ–¥–æ–≤/status (–¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞)
- apiGroups: [""]
  resources: ["pods/status"]
  verbs: ["get"]

---
# –ü–†–ò–ú–ï–† 3: RoleBinding –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è —Ä–æ–ª–∏
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: web-app-pod-reader
  namespace: production
  annotations:
    security.fstec/approved-by: "Security Team"
    security.fstec/approved-date: "2025-11-20"
subjects:
# –ù–∞–∑–Ω–∞—á–∏—Ç—å ServiceAccount
- kind: ServiceAccount
  name: web-app-sa
  namespace: production
roleRef:
  kind: Role
  name: pod-reader
  apiGroup: rbac.authorization.k8s.io

---
# –ü–†–ò–ú–ï–† 4: –†–æ–ª—å –¥–ª—è deployment management
# –ü—Ä–∞–≤–∞ –Ω–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ deployments –≤ —Å–≤–æ–µ–º namespace
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: deployment-manager
  namespace: production
rules:
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Deployments
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["get", "list", "watch", "create", "update", "patch", "delete"]

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ReplicaSets (—Å–æ–∑–¥–∞—é—Ç—Å—è Deployment'–∞–º–∏)
- apiGroups: ["apps"]
  resources: ["replicasets"]
  verbs: ["get", "list", "watch"]

# –ß—Ç–µ–Ω–∏–µ Pods (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞)
- apiGroups: [""]
  resources: ["pods"]
  verbs: ["get", "list", "watch"]

# –ß—Ç–µ–Ω–∏–µ Events
- apiGroups: [""]
  resources: ["events"]
  verbs: ["get", "list", "watch"]

---
# –ü–†–ò–ú–ï–† 5: ClusterRole —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
# –†–æ–ª—å –¥–ª—è —á—Ç–µ–Ω–∏—è nodes (cluster-wide, –Ω–æ read-only)
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: node-reader
  annotations:
    security.fstec/requirement: "–£–î.1"
    security.fstec/scope: "cluster-wide read-only"
rules:
- apiGroups: [""]
  resources: ["nodes"]
  verbs: ["get", "list", "watch"]

- apiGroups: [""]
  resources: ["nodes/status"]
  verbs: ["get"]

# –ë–ï–ó –æ–ø–∞—Å–Ω—ã—Ö permissions:
# ‚ùå –ù–ï–¢: verbs: ["*"]
# ‚ùå –ù–ï–¢: resources: ["*"]
# ‚ùå –ù–ï–¢: verbs: ["create", "delete", "update"]

---
# –ü–†–ò–ú–ï–† 6: Monitoring —Ä–æ–ª—å
# –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ä–æ–ª—å –¥–ª—è Prometheus/Grafana
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: monitoring-reader
  annotations:
    security.fstec/purpose: "Metrics collection"
rules:
# –ß—Ç–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –∏–∑ pods
- apiGroups: [""]
  resources: ["nodes", "nodes/metrics", "nodes/stats", "nodes/proxy"]
  verbs: ["get", "list"]

- apiGroups: [""]
  resources: ["pods", "services", "endpoints"]
  verbs: ["get", "list", "watch"]

# –ß—Ç–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- apiGroups: ["metrics.k8s.io"]
  resources: ["*"]
  verbs: ["get", "list"]

# –ë–ï–ó write permissions
# –ë–ï–ó –¥–æ—Å—Ç—É–ø–∞ –∫ secrets

---
# –ü–†–ò–ú–ï–† 7: CI/CD ServiceAccount (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: cicd-deployer
  namespace: production

---
# –†–æ–ª—å –¥–ª—è CI/CD: —Ç–æ–ª—å–∫–æ deploy –∏ rollback
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: cicd-deployer-role
  namespace: production
rules:
# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Deployments (–¥–ª—è deploy)
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["get", "list", "create", "update", "patch"]

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ConfigMaps (–¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- apiGroups: [""]
  resources: ["configmaps"]
  verbs: ["get", "list", "create", "update", "patch"]

# –ß—Ç–µ–Ω–∏–µ Secrets (–ù–ï create/delete!)
- apiGroups: [""]
  resources: ["secrets"]
  verbs: ["get", "list"]

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Services
- apiGroups: [""]
  resources: ["services"]
  verbs: ["get", "list", "create", "update", "patch"]

# –ß—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
- apiGroups: [""]
  resources: ["pods", "pods/log"]
  verbs: ["get", "list", "watch"]

# –ë–ï–ó:
# ‚ùå –ù–ï–¢ delete –Ω–∞ deployments (–ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ)
# ‚ùå –ù–ï–¢ –¥–æ—Å—Ç—É–ø–∞ –∫ RBAC —Ä–µ—Å—É—Ä—Å–∞–º
# ‚ùå –ù–ï–¢ –¥–æ—Å—Ç—É–ø–∞ –∫ nodes
# ‚ùå –ù–ï–¢ exec –≤ pods

---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: cicd-deployer-binding
  namespace: production
subjects:
- kind: ServiceAccount
  name: cicd-deployer
  namespace: production
roleRef:
  kind: Role
  name: cicd-deployer-role
  apiGroup: rbac.authorization.k8s.io

---
# –ü–†–ò–ú–ï–† 8: Developer —Ä–æ–ª—å (view + logs)
# –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º–æ–≥—É—Ç —Å–º–æ—Ç—Ä–µ—Ç—å, –Ω–æ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—å
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: developer-view
  namespace: development
  annotations:
    security.fstec/requirement: "–£–î.1"
    security.fstec/principle: "Read-only for developers"
rules:
# –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- apiGroups: ["", "apps", "batch"]
  resources: ["*"]
  verbs: ["get", "list", "watch"]

# –ß—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤
- apiGroups: [""]
  resources: ["pods/log"]
  verbs: ["get", "list"]

# –ß—Ç–µ–Ω–∏–µ ConfigMaps
- apiGroups: [""]
  resources: ["configmaps"]
  verbs: ["get", "list"]

# –ë–ï–ó:
# ‚ùå –ù–ï–¢ write permissions
# ‚ùå –ù–ï–¢ –¥–æ—Å—Ç—É–ø–∞ –∫ secrets (–∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ)
# ‚ùå –ù–ï–¢ exec –≤ pods
# ‚ùå –ù–ï–¢ port-forward

---
# –ü–†–ò–ú–ï–† 9: Security Auditor —Ä–æ–ª—å
# –ê—É–¥–∏—Ç–æ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: read-only –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É, –≤–∫–ª—é—á–∞—è secrets metadata
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: security-auditor
  annotations:
    security.fstec/requirement: "–†–£.3"
    security.fstec/purpose: "Security audit and compliance"
rules:
# –ß—Ç–µ–Ω–∏–µ –≤—Å–µ—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- apiGroups: ["*"]
  resources: ["*"]
  verbs: ["get", "list", "watch"]

# –ß—Ç–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∞—É–¥–∏—Ç–∞
- apiGroups: ["audit.k8s.io"]
  resources: ["*"]
  verbs: ["get", "list"]

# –í–ê–ñ–ù–û: –î–∞–∂–µ –¥–ª—è secrets —Ç–æ–ª—å–∫–æ metadata, –Ω–µ data!
# –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ custom admission webhook –∏–ª–∏ OPA policy

# –ë–ï–ó write permissions –ø–æ–ª–Ω–æ—Å—Ç—å—é

---
# –ü–†–ò–ú–ï–† 10: Namespace Admin (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π namespace scope)
# –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä namespace, –Ω–æ –ë–ï–ó cluster-wide –ø—Ä–∞–≤
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: namespace-admin
  namespace: team-a
rules:
# –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –≤ namespace
- apiGroups: ["*"]
  resources: ["*"]
  verbs: ["*"]

# –ù–û: —ç—Ç–æ Role, –Ω–µ ClusterRole
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –¢–û–õ–¨–ö–û namespace team-a
# –ù–ï –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –¥—Ä—É–≥–∏–µ namespaces –∏–ª–∏ cluster resources

---
# –ü–†–ò–ú–ï–† 11: –ó–∞–ø—Ä–µ—Ç –æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
# –ß—Ç–æ –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ production:

# ‚ùå –ü–õ–û–•–û: Wildcard permissions
# apiVersion: rbac.authorization.k8s.io/v1
# kind: ClusterRole
# metadata:
#   name: bad-wildcard-role
# rules:
# - apiGroups: ["*"]      # ‚ùå –°–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–æ
#   resources: ["*"]      # ‚ùå –°–ª–∏—à–∫–æ–º —à–∏—Ä–æ–∫–æ
#   verbs: ["*"]          # ‚ùå –°–ª–∏—à–∫–æ–º –æ–ø–∞—Å–Ω–æ

# ‚ùå –ü–õ–û–•–û: cluster-admin –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
# subjects:
# - kind: ServiceAccount
#   name: my-app
#   namespace: production
# roleRef:
#   kind: ClusterRole
#   name: cluster-admin   # ‚ùå –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø—Ä–∞–≤!

# ‚ùå –ü–õ–û–•–û: –î–æ—Å—Ç—É–ø –∫ exec –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π
# rules:
# - apiGroups: [""]
#   resources: ["pods/exec"]
#   verbs: ["create"]     # ‚ùå –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤ –ª—é–±–æ–º –ø–æ–¥–µ!

---
# –ü–†–ò–ú–ï–† 12: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (Separation of Duties)
# –†–∞–∑–Ω—ã–µ —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á

# –†–æ–ª—å 1: –°–æ–∑–¥–∞–Ω–∏–µ Deployments
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: deployment-creator
  namespace: production
rules:
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["create", "get", "list"]

---
# –†–æ–ª—å 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Deployments (–æ—Ç–¥–µ–ª—å–Ω–æ!)
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: deployment-updater
  namespace: production
rules:
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["update", "patch", "get", "list"]

---
# –†–æ–ª—å 3: –£–¥–∞–ª–µ–Ω–∏–µ Deployments (—Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–¥–æ–±—Ä–µ–Ω–∏—è)
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
  name: deployment-deleter
  namespace: production
  annotations:
    security.fstec/requires-approval: "true"
    security.fstec/approvers: "team-lead,security-team"
rules:
- apiGroups: ["apps"]
  resources: ["deployments"]
  verbs: ["delete", "get", "list"]

---
# –ü–†–ò–ú–ï–† 13: –í—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–æ–ª—å (—Å –∏—Å—Ç–µ—á–µ–Ω–∏–µ–º —Å—Ä–æ–∫–∞)
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: temp-debug-access
  namespace: production
  annotations:
    security.fstec/temporary: "true"
    security.fstec/expires: "2025-11-30T23:59:59Z"
    security.fstec/approved-by: "Security Manager"
    security.fstec/reason: "Debugging production incident #123"
    security.fstec/revoke-after-use: "true"
subjects:
- kind: User
  name: john.doe@example.com
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: pod-reader
  apiGroup: rbac.authorization.k8s.io

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª–µ–Ω–æ –ø–æ—Å–ª–µ expires date
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å CronJob –∏–ª–∏ operator –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏

---
# –ü–†–ò–ú–ï–† 14: –ì—Ä—É–ø–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –£–ó-1, –£–ó-2)
# –†–æ–ª—å –¥–ª—è –≥—Ä—É–ø–ø—ã "Security Clearance: Top Secret"
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
  name: classified-data-access
  namespace: classified
  annotations:
    security.fstec/requirement: "–£–î.2"
    security.fstec/classification: "—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —Å–µ–∫—Ä–µ—Ç–Ω–æ"
subjects:
- kind: Group
  name: clearance-top-secret
  apiGroup: rbac.authorization.k8s.io
roleRef:
  kind: Role
  name: classified-data-reader
  apiGroup: rbac.authorization.k8s.io

---
# –ü–†–ò–ú–ï–† 15: Aggregated ClusterRoles
# –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ä–æ–ª–µ–π –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö ClusterRoles
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: monitoring-aggregate
  labels:
    rbac.example.com/aggregate-to-monitoring: "true"
aggregationRule:
  clusterRoleSelectors:
  - matchLabels:
      rbac.example.com/aggregate-to-monitoring: "true"
rules: []  # Rules are automatically filled from aggregated roles

---
# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 1: Metrics reading
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: monitoring-metrics
  labels:
    rbac.example.com/aggregate-to-monitoring: "true"
rules:
- apiGroups: ["metrics.k8s.io"]
  resources: ["*"]
  verbs: ["get", "list"]

---
# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç 2: Pod reading
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
  name: monitoring-pods
  labels:
    rbac.example.com/aggregate-to-monitoring: "true"
rules:
- apiGroups: [""]
  resources: ["pods", "nodes"]
  verbs: ["get", "list", "watch"]

---
# –ß–µ–∫-–ª–∏—Å—Ç RBAC –¥–ª—è –§–°–¢–≠–ö:

# ‚úÖ –ò–ê.1 - –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
# 1. [x] –ö–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç —Å–≤–æ–π ServiceAccount
# 2. [x] automountServiceAccountToken: false –≥–¥–µ –Ω–µ –Ω—É–∂–µ–Ω
# 3. [x] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ ServiceAccounts

# ‚úÖ –£–î.1 - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º
# 1. [x] –ü—Ä–∏–º–µ–Ω–µ–Ω –ø—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
# 2. [x] –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç wildcard permissions –≤ production
# 3. [x] –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è cluster-admin –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
# 4. [x] –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π (read/write/delete)
# 5. [x] –†–æ–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω—ã
# 6. [x] –†–µ–≥—É–ª—è—Ä–Ω—ã–π –∞—É–¥–∏—Ç RBAC

# ‚ö†Ô∏è –û–ø–∞—Å–Ω—ã–µ patterns (–∏–∑–±–µ–≥–∞—Ç—å):
# - verbs: ["*"]
# - resources: ["*"]
# - apiGroups: ["*"]
# - roleRef.name: cluster-admin
# - resources: ["secrets"] —Å verbs: ["*"]
# - resources: ["pods/exec"] –±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

# üìù –ê—É–¥–∏—Ç RBAC:
# kubectl get clusterrolebindings -o wide
# kubectl get rolebindings --all-namespaces -o wide
# kubectl auth can-i --list --as=system:serviceaccount:production:web-app-sa
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å rbac-lookup, rbac-police, rback

# üîí –î–ª—è –£–ó-1 –∏ –£–ó-2:
# - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ä–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å (–≥—Ä—É–ø–ø—ã –ø–æ —É—Ä–æ–≤–Ω—é –¥–æ–ø—É—Å–∫–∞)
# - –ê—É–¥–∏—Ç –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π RBAC
# - –ú–Ω–æ–≥–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
# - –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–æ–ª–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ—Ç–∑—ã–≤–æ–º
