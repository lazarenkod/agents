# Методика бенчмарка влияния steal time

## 1) Цель
- Измерить латентность/throughput до и после тюнинга/миграции при повышенном steal time.

## 2) Нагрузка
- Тип: API (wrk/hey), MQ (kafka-producer-perf), база (pgbench), CPU-bound (sysbench cpu).
- Профиль: baseline + стресс (ошибка: высокий ст), длительность ≥ 10 мин на шаг.

## 3) Метрики
- Steal %, p50/p95/p99 latency, error rate, throughput, runqueue length, cgroup throttling, host CPU util.

## 4) План теста
1. Baseline на свободном хосте (записать метрики).
2. Создать конкурирующую нагрузку (стресс соседних VM) → зафиксировать рост steal.
3. Применить вариант решения (pinning/RT/dedicated) → повторить тест.
4. Сравнить метрики (до/после, improvement %, стоимость).

## 5) Таблица результатов
| Вариант | Steal% | p99 (мс) | Throughput | Ошибки | Хост CPU | Комментарий |
|---|---|---|---|---|---|---|

## 6) Выводы
- Победивший вариант, стоимость, риски, TODO.
